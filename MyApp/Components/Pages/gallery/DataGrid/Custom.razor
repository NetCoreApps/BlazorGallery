@page "/gallery/datagrid/custom"
@inject IHttpClientFactory HttpClientFactory

<DataGrid Items=@forecasts class="max-w-screen-md" TableStyle="TableStyle.StripedRows | TableStyle.UppercaseHeadings">
    <Column Field="(WeatherForecast x) => x.Date" Format="dd/MM/yyyy" />
    <Column Title="Temp. (C)" Field="(WeatherForecast x) => x.TemperatureC" />
    <Column Title="Temp. (F)" Field="(WeatherForecast x) => x.TemperatureF" />
    <Column Field="(WeatherForecast x) => x.Summary" />
</DataGrid>

@code {
    private HttpClient _httpClient;

    protected override void OnInitialized()
    {
        _httpClient = HttpClientFactory.CreateClient("Blazor");
    }
    List<WeatherForecast> forecasts = [
        new() { Date = new DateTime(2018, 5, 6), TemperatureC = 1, Summary = "Freezing" },
        new() { Date = new DateTime(2018, 5, 7), TemperatureC = 14, Summary = "Bracing" },
        new() { Date = new DateTime(2018, 5, 8), TemperatureC = -13, Summary = "Freezing" },
        new() { Date = new DateTime(2018, 5, 9), TemperatureC = -16, Summary = "Balmy" },
        new() { Date = new DateTime(2018, 5, 10), TemperatureC = -2, Summary = "Chilly" },
    ];

    protected override async Task OnInitializedAsync()
    {
        //forecasts = await _httpClient.GetFromJsonAsync<List<WeatherForecast>>("/data/weather.json") ?? new();
    }
}
